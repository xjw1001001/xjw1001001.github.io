<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to Probability</title>
    <meta charset="utf-8" />
    <meta name="author" content="Jingwei Xiong" />
    <meta name="date" content="2023-04-28" />
    <script src="lecture12_files/header-attrs-2.17/header-attrs.js"></script>
    <link href="lecture12_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="lecture12_files/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link href="lecture12_files/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="lecture12_files/tile-view-0.2.6/tile-view.js"></script>
    <link href="lecture12_files/animate.css-3.7.2/animate.xaringan.css" rel="stylesheet" />
    <link href="lecture12_files/tachyons-4.12.0/tachyons.min.css" rel="stylesheet" />
    <link href="lecture12_files/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="lecture12_files/panelset-0.2.6/panelset.js"></script>
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Introduction to Probability
]
.subtitle[
## <br><br> STA 032: Gateway to data science Lecture 12
]
.author[
### Jingwei Xiong
]
.date[
### April 28, 2023
]

---












&lt;style type="text/css"&gt;
.tiny .remark-code { font-size: 60%; }
.small .remark-code { font-size: 80%; }
&lt;/style&gt;





## Reminders

- HW 3 due May 3 12pm.
  - Please start the homework as soon as possible.
  
- **Midterm 1** (Open book, take home, approximate 2 hours, time limit 5 hours) 
  - **Due April 29 midnight, cover lecture 1-12**
  - Preparing guides: Finish Homework 1-3, be familiar to the lecture slides.
  - You can copy any your own codes in homework 1-3 to finish the open book exam.
  
- The PDF version of slides can be found on Canvas. 
  - You can use search on it to find function examples.

---

## Today

- Statistical inference overview

- [Introduction to probability](#Probability)

- Permutations and combinations

---

## Statistics definition

&gt; A statistic or *sample statistic* is any quantity computed from values in a sample which is considered for a statistical purpose.

* Recall: Population vs. sample 
  - A **sample** is a portion or **subset** of the larger **population**

  - **Population**: the entire group we would like to make conclusions about 

  - **Sample**: specific group we have collected data from 

  - Population **parameter**, e.g., population mean
    - This is a fixed quantity

  - Sample **statistic**, e.g., sample mean
    - depends on sample selected.
  
&gt; Specifically, statistic is a **function** of a sample.

---

#### Statistic inference background setting (formal definition)

.panelset[
.panel[.panel-name[Overview]
* Population follows some **statistical model**: e.g: normal distribution.
   - This is called **population distribution**.
   - This is an assumption!

* Population parameter is the population distribution parameter. e.g: `\(\mu\)` and `\(\sigma\)` of normal distribution.

* Sample are random variables drawn from the population distribution

* Statistics are functions of a sample.
  - e.g: Sample mean, sample variance.
]
.panel[.panel-name[Population distribution]

&gt; Any statistical inference requires some assumptions. The population is something we don't know and wants to infer,

* We need assumptions about population distribution: **population distribution**
  - We pick a statistic model, and assume the population follows that model (distribution)
  - The population distribution will have (population) parameters. *Assumed* **Unknown!**
  - We will cover those distribution details later.
  
| **Population** | **Model** | **Parameters**| **Math form**|
|:------:|:------:|
| Student heights | Normal distribution | `\(\mu, \sigma\)` |  `\(N(\mu, \sigma)\)` |
| Heads in **fixed** `\(n\)` coin toss | Binomial distribution | `\(p\)` (Is `\(n\)` a parameter?) | `\(Binomial(n, p)\)` |
| Waiting time of a service center | Exponential distribution | `\(\theta\)` | `\(exponential(\theta)\)` |

* What happens if we use a wrong population distribution?

]
.panel[.panel-name[Sample, statistics]

* Samples are drawn from the population model. Denoted as:$X_1,...,X_n \sim Population \ model$

* Sample size is how many samples you get from the population. `\(n\)` here.

* Statistics is a function of the sample:
  - Sample mean: `\(\bar X = \frac{1}{n}\sum_{i=1}^{n}X_i\)`
  - Sample variance: `\(s^2 = \frac{1}{n-1}\sum_{i=1}^{n}(X_i - \bar X)^2\)`
  - Sample maximum: `\(max(X)\)`

* Special case: The first sample `\(X_1\)` is also a function of the sample, thus it is a statistic! (Though it make no sense)

]
]

---

## Statistical Inference

- **Statistical inference** allows us to draw conclusions about the larger population. It is the process of using sample data to make conclusions about the underlying population the sample came from.

.pull-left[
&lt;img src="img/soup.png" width="70%" /&gt;
]

.pull-right[
Similar to tasting a spoonful of soup while cooking to make an inference about the entire pot.
]

- This is one goal of statistics: to answer a question, by making **inferences** about a **population** based on data in one or more **samples**.

- The validity of our inferences depends on a variety of factors, including the **representativeness** of the sample
---

## Statistical inference

- In order to draw principled conclusions from our data, we rely on a formal probabilistic framework that allows us to **quantify uncertainty**.

- **Statistical inference** is built upon the foundation of **probability theory**.

- Many topics in statistical inference

  - Fundamentals: probability, distributions, random variables, ...
  
  - Sampling 
  
  - Hypothesis testing
  
  - Point estimates and confidence intervals
  
  - Modeling: Linear regression, analysis of variance, nonparametric models, machine learning, ... 

---
name: Probability

## Probability

- The **probability** of an event tells us how likely an event is to occur, and it can take values from 0 to 1, inclusive. 

- Coin flipping: What is the chance of getting heads? 

- Die rolling: What is the chance of rolling a 1?

- Y chromosomes in the US population: 51.2% of births are to babies with Y chromosomes, and 48.8% of babies do not have Y chromosomes. Thus the probability of having a baby with a Y chromosome is 0.512.

---


## Formalizing Probability

- **Random process** gives rise to an **outcome** with an associated probability

  - Flip coin: heads or tails
  - Roll die: 1, 2, 3, 4, 5 or 6
  
- The **probability** of an outcome is the proportion of times the outcome would occur if we observed the random process an *infinite* number of times.

- An outcome or set of outcomes are called **events**

- E.g., `\(A\)` is the event that a die roll results in 1 or 2
  - In set notation: `\(A = \{1, 2\}\)`

---

## Formalizing Probability

- A **Sample space** is the set of all possible outcomes, often denoted by `\(\mathcal{S}\)`
  - Flipping a coin: {H, T}
  - Rolling a die: {1, 2, 3, 4, 5, 6}
  
- **Probability** is usually denoted by `\(p\)`, `\(P\)`, or `\(\mathbb{P}\)`, e.g., `\(\mathbb{P}(A) = 1\)`, where `\(A\)` is the event

- Always takes values between 0 and 1 (inclusive); sometimes represented as a percentage, e.g., 50%

- So we have `\(\mathbb{P}(\text{flipping H})= .5\)`

---


## Operations on Events

- The **union** of A and B, denoted `\(A \cup B\)`, is the event that A, or B, or both A and B, occur. E.g.,:
  - `\(A\)` is the event that a person smokes
  
  - `\(B\)` is the event that a person identifies as female
  
  - `\(A \cup B\)` is the event that a person is either a smoker, or identifies as female, or both.
  
  - "or" is inclusive, i.e., "and/or" in everyday language

- The **intersection** of A and B, denoted `\(A \cap B\)`, is the event that both A and B occur. Using the same example, 
  - `\(A \cap B\)` is the event that a person both smokes and identifies as female

---
## Venn Diagram

&lt;img src="img/VennDiagram_900.svg" width="75%" /&gt;

- `\(A \cup B\)` includes both circles

- Will sometimes see a rectangle encapsulating the Venn diagram; this denotes the sample space

???

In this Venn diagram, we see two circles representing two different sets: A and B. The union of A and B, denoted by `\(A \cup B\)`, is the area that includes both circles. It includes all the elements that are in A, all the elements that are in B, and the elements that are in both A and B. The rectangle surrounding the circles represents the sample space, which is the set of all possible outcomes in a particular scenario or experiment.

---

## Disjoint or mutually exclusive events 

- A and B are **disjoint** or **mutually exclusive** if `\(A \cap B = \emptyset\)` 
  
  - A and B cannot occur simultaneously
  
  - Flipping heads and flipping tails are disjoint events 
  
  - Smoking and identifying as female are *not* disjoint; they can happen at the same time 

- The **complement** of A, denoted `\(A^c\)` or `\(\overline{A}\)`, is the event A does not occur. 

- In other words, `\(A^c\)` represents all outcomes in the sample space that are not in A

- `\(A\)` and `\(A^c\)` are **disjoint**. 

---

## Probability Rules

- The probability of any event in the sample space is between 0 and 1, inclusive.

- The probability of the entire sample space is 1.

- If we know the probability of `\(A\)`, often denoted `\(P(A)\)`, it is easy to calculate the probability of `\(A^c\)` as `\(P(A^c) = 1 - P(A)\)`. 

- This is called the **complement rule**:  `\(P(A) + P(A^c) = 1\)`.

---

## Additive Rule of Probability

- When events are mutually exclusive (cannot occur together), `\(P(A \cup B) = P(A) + P(B)\)`. In a Venn diagram, the circles representing A and B do not intersect.

- When two events can occur simultaneously (think about the overlapping sections in the Venn diagrams), then we need to avoid double-counting when calculating the probability either of two events will occur.

- The general **additive rule of probability** is therefore `\(P(A \cup B) = P(A) + P(B) - P(A \cap B)\)` 

- `\(A \cap B\)` is part of the event A and part of the event B, we need to avoid double-counting it.

  - Note that if two events A and B are mutually exclusive, then `\(P(A \cap B) = 0\)`.

---

## Computing Probabilities

Intuitively, we can think of the probability of an outcome (or set of outcomes) as the proportion of times the outcome (or set of outcomes) would occur if we observed the random process infinitely many times.

If all the outcomes in our random process (sample space `\(\mathcal{S}\)`) are **equally likely**, then for some event `\(E\)`, `$$P(E)=\frac{\text{# of outcomes in } E}{\text{# of total outcomes in } \mathcal{S}}.$$`

- Rolling die: 
  - Let `\(A\)` be the event that we roll a 1 or a 6
  
  - `\(P(A) = \frac{2}{6}\)`

---

## Vaccine Hesitancy in the UK

&lt;img src="img/hesitancy.png" width="75%" style="display: block; margin: auto;" /&gt;

We will consider this UK study on vaccine hesitancy, which explored hesitancy across a variety of UK ethnic groups.

The study collected information on 10,000 people. This was a sample in the original study, but for our purposes (to illustrate probability concepts) we are going to treat this as a population. 

---

## Vaccine Hesitancy


|Ethnicity|Vaccine Hesitant | Not Hesitant |
|:------|------:|-------:|
| White British or Irish | 1362 | 7368 |
| Other white background | 71 | 199 |
| Mixed | 55 | 115 |
| Asian or Asian British - Indian | 37 | 143 |
| Asian or Asian British - Pakistani/Bangladeshi | 85 | 115 |
| Asian or Asian British - other | 15 | 95 |
| Black or Black British | 136 | 54 |
| Other Ethnic Group or Not Specified | 31 | 119 |

---

## Practicing with Probabilities

Define events A = vaccine hesitant and B = Asian or Asian British-Indian. Calculate the following probabilities for a randomly-selected person from the 10,000 people

- `\(P(A)\)`

- `\(P(B)\)`

- `\(P(A \cap B)\)`

- `\(P(A \cup B)\)`

- `\(P(A \cup B^c)\)`

---

## Vaccine Hesitancy

.small[
|Ethnicity|Vaccine Hesitant | Not Hesitant |
|:------|------:|-------:|
| White British or Irish | 1362 | 7368 |
| Other white background | 71 | 199 |
| Mixed | 55 | 115 |
| Asian or Asian British - Indian | 37 | 143 |
| Asian or Asian British - Pakistani/Bangladeshi | 85 | 115 |
| Asian or Asian British - other | 15 | 95 |
| Black or Black British | 136 | 54 |
| Other Ethnic Group or Not Specified | 31 | 119 |
]

- A = vaccine hesitant; B = Asian or Asian British-Indian
- Want `\(P(A)\)`, `\(P(B)\)`, `\(P(A \cap B)\)`, `\(P(A \cup B)\)`, `\(P(A \cup {B^c})\)`

---

#### Vaccine Hesitancy

.tiny[
|Ethnicity|Vaccine Hesitant | Not Hesitant |
|:------|------:|-------:|
| White British or Irish | 1362 | 7368 |
| Other white background | 71 | 199 |
| Mixed | 55 | 115 |
| Asian or Asian British - Indian | 37 | 143 |
| Asian or Asian British - Pakistani/Bangladeshi | 85 | 115 |
| Asian or Asian British - other | 15 | 95 |
| Black or Black British | 136 | 54 |
| Other Ethnic Group or Not Specified | 31 | 119 |
]

- A = vaccine hesitant; B = Asian or Asian British-Indian
- `\(P(A) = \frac{1362 + 71 + 55 + 37 + 85 + 15 + 136 + 31}{10000} = \frac{1792}{10000} = .1792\)`
- `\(P(B) = \frac{37 + 143}{10000} = .018\)`
- `\(P(A \cap B) = \frac{37}{10000} = .0037\)`
- `\(P(A \cup B) = \frac{1362 + 71 + 55 + 37 + 85 + 15 + 136 + 31 + 143}{10000} = .1935\)`
- `\(P(A \cup {B^c}) = \frac{1935 - 143 + 7368 + 199 + 115 + 115+ 95+ 54 + 119}{10000} = .9875\)`
  - Or, `\(1 - \frac{143}{10000}\)`


---

## Probability distribution 

- A **probability distribution** is a table of all **disjoint** outcomes and their associated probabilities.

.tiny[
|Ethnicity|Vaccine Hesitant | Not Hesitant |
|:------|------:|-------:|
| White British or Irish | `\(\frac{1362}{10000}\)` | `\(\frac{7368}{10000}\)` |
| Other white background | `\(\frac{71}{10000}\)` | `\(\frac{199}{10000}\)` |
| Mixed | `\(\frac{55}{10000}\)` | `\(\frac{115}{10000}\)` |
| Asian or Asian British - Indian | `\(\frac{37}{10000}\)` | `\(\frac{143}{10000}\)` |
| Asian or Asian British - Pakistani/Bangladeshi | `\(\frac{85}{10000}\)` | `\(\frac{115}{10000}\)` |
| Asian or Asian British - other | `\(\frac{15}{10000}\)` | `\(\frac{95}{10000}\)` |
| Black or Black British | `\(\frac{136}{10000}\)` | `\(\frac{54}{10000}\)` |
| Other Ethnic Group or Not Specified | `\(\frac{31}{10000}\)` | `\(\frac{119}{10000}\)` |
]

---

## Rules for Probability Distributions

A probability distribution is a list of the possible outcomes with corresponding probabilities that satisfies three rules:

1. The outcomes listed must be disjoint.

2. Each probability must be between 0 and 1.

3. The probabilities must total 1.


---

## The fundamental principle of Counting

The fundamental counting principle states that if there are `\(p\)` ways to do one thing, and `\(q\)` ways to do another thing, then there are `\(p \times q\)` ways to do both things.

Example: Build your own Pizza: 2 crusts, 4 toppings, 3 sizes. How many possible combinations?

--

&gt; `\(2*4*3 = 24\)`

---

## Permutation

A permutation is an ordering of a collection of objects. The number of permutations of n objects is:

`$$n! = n \times (n-1) \times (n-2) \times ... \times 3 \times 2 \times 1$$`

* `\(n\)` factorial: the product of the integers from 1 to `\(n\)`. `\(1! = 1, 0! = 1\)`

Example: 8 students sitting in the first row of class. 
How many ways can I arrange the 8 students?

--

&gt; `\(8!=40320\)`


```r
factorial(8)
```

```
[1] 40320
```

---

## Permutations for different items

* `\(n\)` items

* Select `\(k\)` of those `\(n\)` items (without replacement)

* consider ABC different from BCA (order counts)

`$$_{n}P_{k} = \dfrac{n!}{(n - k)!}$$`

Example: 12 songs in playlists. How many different ordering of 3 songs?

--

&gt; `\(_{12}P_{3} = \dfrac{12!}{(12 - 3)!} = 12 \times 11 \times 10\)`

---

## Permutation for identical items (not all unique)

* `\(n\)` items, not all unique.
* Total `\(r\)` groups, group `\(i, (1\leq i\leq r)\)` has `\(k_i\)` subjects.
* How many orders do we have?
`$$\frac{n!}{k_1!k_2!...k_r!}$$`

Example: How many ways can the letters in STATISTICS be arranged?

--

&gt; n =10, S,T,A,I,C:
`\(k_1 = 3, k_2 = 3, k_3 = 1, k_4 = 2, k_5 = 1\)`

`$$\frac{10!}{3!3!1!2!1!}=50400$$`


---

## Combinations

Combination: Each distinct group of objects that can be selected, without regard to order.

* Select `\(k\)` items out of `\(n\)` items
* ABC is the same as BCA&lt; CBA, ACB. (order does not count)

The number of combinations of `\(k\)` items from `\(n\)` items is:

`$$_{n}C_{k} = {n \choose k} =  \dfrac{n!}{(n - k)!k!}$$`

Example: A state lottery involves the random selection of 6 different numbers between 1 and 26. If you select one six-number combination, what is the probability that it will be the winning number?

--

`$$n=26, k=6, _{26}C_{6}={26 \choose 6} =\dfrac{26!}{(20)!6!} = 230230$$`

`$$P(win) = \frac{1}{230230}$$`

We assume all ways have equal probability to be chosen.


---

## Summary

--

- Descriptive statistics vs. inferential statistics

- Statistical inference and probability theory

- Introduction to probability 
  - Events, sample space
  - Probability rules  
      - Complement rule: `\(P(A) + P(A^c) = 1\)`  
      - Additive rule: `\(P(A \cup B) = P(A) + P(B) - P(A \cap B)\)`  
  - Probability distributions
  - Counting rules
  
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"highlightSpans": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
